$(function () {

	// initial dataset and number of columns
	let seriesName = 'OECD_GDP_hr';
	let chartType = 'line';

	// ncol array keeps track of current and previous versions of its value
	let ncol = {
		current:3,
		prev:3,
	};


	//display the complete set of charts for the initial dataset
	var seriesY = getSeries(seriesName);
	const chartTitle = [];

	// Create array to hold the titles from OECD_GDP_hr
	for (var i=0; i<seriesY.length; i++){
		chartTitle.push(seriesY[i].name);
	};

	addCharts(chartTitle, seriesY, chartType, ncol);

	makeMenu(chartTitle, seriesName, chartType, ncol);

	function getSeries(seriesName){
		// this will be developed as we get more datasets and add server access
		// $('header').empty();
		$('header').append('<span id="subheading"><br />Dataset:'+ seriesName +'</span>');

		var OECD_GDP_hr = [
			{name: 'AUS', data: [5.773522, 6.205628, 6.727244, 7.448886, 7.918848, 8.981659, 9.490788, 9.935202, 11.131144, 12.144195, 13.346224, 15.292593, 16.158762, 17.108989, 17.899295, 17.946396, 18.358264, 19.277169, 20.060825, 20.57982, 21.306521, 22.401558, 23.641892, 24.222632, 25.040312, 26.294899, 27.522065, 28.882281, 30.116073, 31.222844, 32.66698, 34.387878, 35.678128, 37.217042, 38.152326, 39.590609, 41.321893, 43.001958, 45.053643, 46.328565, 47.996598, 49.176766, 49.336285, 54.170052, 53.874165, 54.106372, 56.888724, 57.497818, 60.230544, 63.307055, 66.795384]},
			{name: 'AUT', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 31.748244, 32.245064, 33.029564, 34.752472, 35.412702, 37.418717, 37.980731, 40.151248, 41.552358, 43.578336, 45.579211, 48.871169, 50.756321, 52.5827, 53.871565, 55.238752, 57.565199, 60.672346, 63.35626, 64.836817, 67.267651, 70.35396, 72.101288, 74.632432, 75.384116, 79.588632]},
			{name: 'BEL', data: [5.271549, 5.737926, 6.402644, 7.21083, 8.196246, 9.012469, 10.083977, 10.979142, 12.192, 13.517355, 15.600757, 17.586764, 19.195342, 20.200937, 21.151849, 21.995605, 22.971536, 24.126559, 25.843858, 27.516679, 28.879384, 30.997895, 32.695136, 34.306887, 36.324276, 37.242014, 37.792437, 39.098749, 39.740875, 40.992494, 43.613256, 44.953689, 47.022531, 48.141154, 49.952016, 51.568157, 54.07196, 55.834892, 57.336138, 58.402167, 61.388365, 62.418728, 64.719846, 67.417642, 69.569149, 71.604653, 74.827499, 76.574585, 78.768073, 80.855561, 86.973247]},
			{name: 'CAN', data: [6.069332, 6.533905, 7.052406, 7.616142, 8.301079, 9.173844, 10.249301, 11.188205, 12.06341, 12.935668, 14.062635, 15.604803, 16.797565, 17.861319, 19.008656, 19.785784, 20.011924, 20.601573, 21.5327, 22.430557, 23.244137, 24.241477, 25.301129, 26.424901, 27.525725, 28.446029, 28.903168, 29.932918, 30.832919, 32.057433, 33.463674, 34.763441, 35.507092, 36.862332, 38.170546, 40.867404, 42.657749, 43.807832, 44.60455, 44.952307, 45.955551, 47.514339, 48.013576, 50.329908, 52.382335, 51.051617, 53.270708, 55.369723, 56.359265, 55.874713, 60.424984]},
			{name: 'CZE', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 13.441717, 14.109228, 15.297201, 16.135575, 16.309538, 16.546252, 17.092409, 18.030723, 20.373068, 21.059622, 22.882972, 24.37178, 25.421613, 27.441289, 29.940838, 31.192392, 31.89705, 32.098452, 33.429369, 34.176814, 36.146733, 37.749589, 39.390083, 40.841169, 43.313358, 45.178918, 47.196476, 49.028233]},
			{name: 'DNK', data: [4.712561, 5.202785, 5.715943, 6.358038, 6.974606, 7.933816, 8.679673, 9.560703, 10.526646, 11.79246, 12.758549, 14.376877, 15.691126, 16.791513, 17.923202, 18.957639, 19.758698, 20.658506, 21.806935, 23.136243, 24.704685, 26.207729, 27.266496, 28.446035, 30.908349, 32.026051, 33.530489, 34.494803, 35.031938, 35.611276, 37.887607, 38.601793, 40.450691, 41.3114, 44.49138, 45.817565, 48.999538, 51.051879, 53.810522, 55.073175, 60.165403, 61.771161, 63.615068, 66.525432, 68.520596, 70.022816, 73.299505, 77.843024, 81.312112, 82.96509, 87.922787]},
			{name: 'FIN', data: [3.557067, 3.920818, 4.401647, 4.917675, 5.530131, 6.41914, 6.869905, 7.478987, 8.292971, 9.538251, 10.767122, 11.789206, 12.879191, 13.924196, 14.879718, 15.874902, 16.863725, 17.647621, 19.115261, 20.639187, 21.925467, 22.843085, 24.209462, 26.135432, 27.875907, 28.962994, 29.348374, 30.970048, 33.132969, 34.182199, 36.536319, 37.741128, 38.647546, 39.372279, 42.160901, 43.095925, 45.788813, 49.499026, 51.66006, 51.12341, 52.840671, 55.125497, 55.211472, 57.02947, 57.955853, 59.336748, 62.636659, 66.031123, 67.280831, 67.582779, 69.760278]},
			{name: 'FRA', data: [4.51487, 4.979557, 5.544128, 6.185595, 7.086006, 7.835284, 8.436424, 9.380872, 10.556739, 11.781702, 13.057053, 14.6264, 16.53723, 17.603002, 18.682707, 20.048162, 20.903484, 21.631618, 23.117878, 24.88046, 26.430912, 27.667108, 28.978716, 29.941668, 31.212059, 32.658944, 33.592461, 34.884052, 36.373243, 37.31621, 39.834123, 42.230524, 44.9171, 44.567768, 45.535219, 47.782854, 51.245328, 52.657372, 53.978784, 54.633698, 56.478358, 58.492883, 59.159131, 62.85823, 64.151481, 65.316731, 68.259811, 70.967408, 73.210089, 76.366417, 79.808991]},
			{name: 'DEU', data: [4.847258, 5.315245, 5.82132, 6.453539, 7.318259, 8.296974, 9.161705, 10.131687, 11.179111, 12.453243, 13.692467, 15.237243, 16.346033, 17.543597, 18.656594, 19.690698, 20.391618, 21.181704, 22.494536, 24.189916, 25.982186, 27.794715, 29.153802, 30.425927, 31.879875, 33.038622, 34.160243, 35.147929, 35.904363, 36.993765, 38.161556, 40.19484, 41.879051, 43.585394, 45.533864, 46.564475, 48.90631, 50.977908, 52.514937, 52.46675, 54.429625, 57.609108, 58.943586, 61.355034, 63.635349, 64.376152, 68.356357, 71.36311, 73.642758, 74.02273, 76.868534]},
			{name: 'GRC', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12.434621, 13.62644, 13.938073, 14.321544, 14.656861, 15.652394, 16.485088, 17.06039, 18.242121, 18.284602, 18.088797, 18.801153, 19.588671, 20.723221, 22.238583, 22.505947, 23.170987, 24.473667, 26.398762, 28.025656, 29.292827, 30.689739, 29.86514, 33.001236, 33.762005, 35.245648, 35.39179, 34.157894, 32.450648, 31.962204, 33.17825, 33.410211, 34.620332, 34.138363, 35.533707, 34.748102, 36.173981, 37.429505]},
			{name: 'HUN', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8.690084, 9.620186, 10.446515, 10.471919, 12.354898, 12.589062, 13.014064, 13.682936, 13.938299, 15.217668, 17.193245, 19.026363, 20.128902, 21.311316, 22.831416, 24.569242, 26.039569, 28.667183, 29.723328, 31.183776, 33.186275, 33.343874, 34.73081, 34.372515, 35.041117, 34.835029, 36.245653, 38.629388, 40.369704, 42.994592]},
			{name: 'ISL', data: [4.496935, 5.201161, 5.695775, 6.304184, 7.121385, 7.791868, 8.558271, 10.090503, 11.359874, 12.909782, 14.520261, 15.809728, 16.695667, 16.821958, 17.920437, 18.435385, 19.460646, 20.48139, 21.734338, 23.040334, 24.556353, 25.290851, 24.994473, 25.748382, 27.486924, 27.516414, 28.270559, 30.46538, 31.95873, 32.507423, 31.565852, 33.463799, 35.778751, 36.762768, 40.402276, 41.859727, 43.64922, 45.34062, 47.631996, 52.725512, 50.952065, 51.691665, 52.837485, 55.071364, 56.695446, 59.662657, 62.545232, 64.451927, 66.48493, 70.230494, 70.562649]},
			{name: 'IRL', data: [2.847083, 3.082501, 3.497499, 3.829968, 4.361562, 5.097065, 5.51532, 6.226307, 7.128179, 7.646158, 8.833478, 10.170766, 11.128989, 11.696311, 12.99572, 13.833731, 13.905485, 14.972856, 16.238421, 17.814416, 19.312113, 20.767319, 22.305189, 23.410634, 24.490359, 26.23629, 27.698199, 29.757509, 31.288835, 32.215035, 35.068582, 37.435741, 40.947612, 42.482685, 44.947589, 45.552982, 49.0073, 51.489095, 50.50771, 52.903225, 60.811821, 64.552467, 66.984256, 67.264962, 69.940438, 91.344744, 92.65904, 98.223464, 104.301649, 107.074849, 119.363066]},
			{name: 'ITA', data: [4.784682, 5.251964, 5.750422, 6.460274, 7.431515, 8.008667, 8.970647, 9.923449, 10.9883, 12.514357, 13.903905, 15.308657, 16.189214, 16.971894, 18.253465, 19.212198, 19.931447, 20.81509, 22.171707, 23.860338, 24.991932, 25.849052, 26.80812, 27.962649, 29.759415, 31.284193, 31.862521, 33.022775, 34.024427, 34.504677, 36.18053, 37.015376, 37.606472, 38.054427, 38.547217, 39.346633, 41.667966, 43.378067, 45.613773, 46.18474, 47.330031, 49.336944, 50.562677, 52.278812, 52.630867, 53.221214, 56.581629, 58.245644, 59.543425, 60.781505, 64.272012]},
			{name: 'JPN', data: [2.83834, 3.106021, 3.511995, 3.961596, 4.411472, 5.040322, 5.442979, 5.96064, 6.67017, 7.531506, 8.404971, 9.582797, 10.436595, 11.107564, 11.911665, 12.953926, 13.559034, 14.501113, 15.877547, 17.231543, 18.797584, 20.022178, 20.764653, 21.730546, 22.472342, 23.640661, 24.698347, 25.55424, 26.131402, 27.243299, 28.969874, 30.044071, 31.403469, 32.280905, 33.905987, 35.338101, 36.528732, 37.751566, 38.407605, 38.177517, 39.830851, 40.992919, 42.38246, 44.442435, 44.503462, 46.169987, 45.508788, 46.072881, 47.277098, 48.317884, 50.243534]},
			{name: 'KOR', data: [0.689058, 0.775414, 0.832783, 0.959265, 1.099215, 1.267817, 1.429342, 1.655472, 1.881822, 2.188052, 2.337371, 2.662529, 2.973496, 3.451374, 3.979495, 4.30418, 4.672541, 5.172189, 5.907823, 6.553157, 7.399444, 8.278833, 8.894442, 9.555446, 10.392414, 11.276315, 12.175757, 13.203771, 13.997264, 15.506373, 16.430901, 17.365616, 18.747387, 19.742176, 21.189801, 22.582212, 23.977573, 26.183825, 27.874714, 28.339284, 30.388463, 31.16469, 31.988672, 32.500555, 33.434495, 35.5578, 37.216388, 39.113762, 41.927862, 42.0, 45.846037]},
			{name: 'LUX', data: [6.994419, 7.324283, 8.020898, 9.14107, 10.237302, 10.488235, 11.253878, 12.324488, 13.949667, 15.533054, 17.123224, 18.853212, 20.513878, 22.099972, 24.378621, 25.39562, 27.977267, 29.042659, 31.273005, 34.727889, 36.411415, 39.749533, 40.811897, 42.598082, 44.570449, 44.675367, 46.397274, 48.445516, 49.018332, 53.517544, 56.764669, 55.744926, 57.38988, 58.600434, 62.422783, 66.418573, 74.511422, 77.536859, 80.538815, 80.810306, 83.888341, 87.188525, 89.516569, 94.430179, 98.047385, 99.777819, 104.105377, 105.204637, 105.073872, 104.28172, 111.035038]},
			{name: 'MEX', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10.929367, 11.236277, 11.456803, 11.67584, 11.184235, 11.517744, 11.580779, 12.400905, 12.352182, 13.419226, 13.814523, 13.433567, 14.216032, 14.798446, 15.147316, 16.572344, 17.253234, 17.478881, 18.251871, 17.552062, 19.115363, 19.495365, 19.634778, 20.608018, 20.592155, 21.52572, 21.882012, 22.206734, 22.390229, 23.002612]},
			{name: 'NLD', data: [5.692328, 6.287522, 6.769865, 7.614339, 8.863512, 10.01006, 11.088923, 12.141396, 13.358029, 14.646658, 16.217052, 17.691517, 19.004429, 20.537579, 21.866493, 22.971815, 23.754291, 24.639513, 25.970982, 27.539323, 28.98349, 30.325004, 30.957608, 32.199728, 33.465237, 33.642476, 34.280002, 35.833766, 37.589888, 38.894913, 42.262444, 43.761597, 45.957499, 46.308303, 48.604209, 51.357271, 55.00241, 57.415284, 59.942484, 58.680322, 60.051709, 61.855893, 63.542919, 66.977325, 66.754875, 67.832959, 69.277921, 71.732016, 73.671222, 74.249777, 77.141271]},
			{name: 'NZL', data: [4.576193, 5.047472, 5.608039, 5.965533, 6.486112, 7.253683, 7.497919, 7.308983, 8.27551, 8.705318, 9.676417, 10.891979, 11.994056, 12.801739, 13.854288, 13.864948, 14.684834, 14.857122, 15.99611, 17.440936, 18.443865, 18.940861, 20.07362, 20.859151, 21.549094, 22.201084, 22.567552, 23.773122, 23.601958, 24.25182, 25.687422, 26.50059, 27.092416, 27.702957, 28.392635, 28.408209, 30.741093, 32.876595, 33.12309, 35.521548, 35.908816, 37.632026, 38.598148, 41.006106, 41.35124, 41.622831, 43.292216, 44.893018, 45.261729, 47.283782, 47.787334]},
			{name: 'NOR', data: [4.41414, 4.914294, 5.436937, 6.000987, 6.78599, 7.721058, 8.597198, 9.444258, 10.549261, 11.924027, 13.267926, 14.649394, 15.693654, 17.062883, 18.6681, 19.85674, 20.462762, 21.276575, 22.046439, 23.872944, 25.600282, 27.589274, 29.101486, 30.468341, 32.279814, 33.985467, 36.984578, 38.646307, 37.352565, 40.431188, 49.487037, 51.669806, 52.645355, 55.037387, 59.897461, 66.701449, 73.873139, 73.55081, 79.362953, 73.464866, 77.605854, 82.787176, 86.723352, 89.580704, 88.060886, 81.021883, 79.413664, 86.665073, 93.464753, 88.893384, 85.726118]},
			{name: 'POL', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8.918529, 9.559205, 10.546317, 11.154549, 11.915084, 12.660753, 14.304321, 15.048943, 16.15214, 17.719786, 18.560934, 19.932183, 20.339881, 21.53864, 22.844851, 24.029032, 25.348449, 28.485142, 30.8522, 32.056321, 33.260807, 33.785922, 34.314904, 36.480513, 38.704746, 41.394305, 43.983537, 45.02067]},
			{name: 'PRT', data: [2.835689, 3.14036, 3.57861, 4.25599, 4.410115, 4.429253, 4.957873, 5.562076, 6.172236, 7.016172, 7.870354, 8.765356, 9.567746, 9.540107, 9.782038, 10.480686, 11.183126, 11.786463, 12.787604, 13.680749, 14.528745, 15.810131, 16.749812, 17.124162, 17.595926, 18.225287, 18.629888, 19.344471, 19.828958, 20.827581, 21.76568, 22.472966, 23.54873, 24.545783, 25.436701, 27.057344, 29.510662, 30.541602, 31.795976, 32.464009, 33.889712, 34.31915, 35.525582, 38.210649, 38.401466, 38.765602, 40.407609, 41.037667, 42.01086, 43.09735, 44.973268]},
			{name: 'SVK', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11.937233, 12.910807, 13.936847, 14.834013, 15.41341, 16.675625, 18.167059, 20.019053, 21.785349, 22.842365, 24.186428, 26.858028, 29.251303, 31.669785, 31.695476, 34.82779, 35.647083, 36.784615, 38.909435, 40.07253, 40.869041, 39.864785, 40.218978, 41.187215, 42.187033, 45.478893]},
			{name: 'ESP', data: [3.522705, 3.852992, 4.342891, 4.870287, 5.550537, 6.16792, 6.770591, 7.457399, 8.355722, 9.416722, 10.889566, 12.417263, 13.616802, 14.704494, 16.252786, 17.431436, 18.026531, 18.6903, 19.692455, 20.844696, 21.596483, 22.507646, 23.67058, 24.795839, 26.067075, 26.836264, 27.67534, 28.232325, 28.814772, 28.830014, 29.901727, 30.85192, 32.397056, 33.017605, 34.111425, 35.481651, 38.799094, 40.766806, 42.170147, 43.680739, 44.351148, 45.803225, 47.918259, 50.262406, 51.244324, 51.745407, 53.939474, 56.148135, 56.570344, 57.404936, 58.462574]},
			{name: 'SWE', data: [6.374773, 6.902253, 7.517551, 8.29629, 9.256514, 10.326232, 10.883943, 11.595984, 12.88046, 14.402704, 15.783875, 17.429145, 18.596339, 19.520535, 20.861255, 21.715059, 22.641337, 23.637373, 24.445016, 25.721004, 26.695541, 27.952421, 29.222012, 30.571274, 32.009265, 33.289993, 34.593121, 36.228062, 37.223953, 38.491609, 41.116736, 41.381316, 43.478879, 45.56241, 48.279799, 49.014224, 53.406129, 56.531897, 57.958199, 57.547864, 59.43771, 61.836642, 63.494908, 65.004243, 65.920544, 68.27252, 69.147685, 71.043375, 72.791079, 75.453591, 79.217527]},
			{name: 'CHE', data: [7.254116, 7.833026, 8.417737, 9.18516, 10.31924, 11.029547, 11.836738, 13.005359, 13.947124, 15.422376, 17.330676, 19.034465, 19.96929, 21.057478, 22.498364, 23.673108, 24.170333, 24.57376, 25.615566, 27.282898, 28.602327, 28.809211, 29.72652, 30.709799, 31.585254, 32.822856, 34.257338, 35.938541, 36.628959, 37.012565, 39.036226, 40.772003, 42.324122, 42.479506, 43.502171, 45.118785, 49.810875, 54.285384, 57.044908, 57.001402, 59.445636, 62.050236, 64.312719, 67.580289, 69.535006, 70.792085, 72.797596, 74.734608, 77.566323, 78.244802, 81.606698]},
			{name: 'TUR', data: [2.570972, 2.830265, 3.096341, 3.331551, 3.759618, 4.389913, 5.073854, 5.451794, 5.89421, 6.297044, 6.640505, 7.58699, 8.286561, 8.986812, 10.12548, 10.559168, 11.41259, 12.788604, 13.373155, 13.366841, 14.907108, 14.932493, 15.818857, 18.188385, 16.540885, 17.698087, 18.557175, 20.406264, 15.419428, 14.597613, 16.505426, 16.111143, 16.605562, 17.518882, 19.986535, 21.598333, 24.521815, 27.119689, 29.299668, 28.813428, 31.071354, 33.78434, 35.101878, 37.948137, 39.458853, 42.087412, 43.60684, 45.462537, 45.970518, 46.184438, 49.737458]},
			{name: 'GBR', data: [4.624527, 5.176414, 5.718884, 6.139706, 6.64503, 7.201957, 7.935094, 8.719319, 9.778337, 10.921, 12.027485, 13.951054, 15.251472, 16.687368, 17.128851, 17.873717, 18.711053, 19.881934, 20.550721, 21.444773, 22.486807, 23.719797, 25.416652, 26.971447, 28.22224, 29.217337, 30.922199, 31.954784, 32.679092, 33.593505, 36.409427, 37.955196, 40.01706, 41.82129, 43.936541, 44.399828, 47.369424, 48.349832, 50.427718, 49.615506, 52.123627, 53.133583, 53.964889, 55.966381, 56.646623, 58.56933, 59.865527, 62.206178, 63.37661, 65.097672, 70.528203]},
			{name: 'USA', data: [6.975312, 7.603742, 8.125367, 8.774053, 9.477322, 10.638668, 11.496086, 12.340659, 13.313295, 14.482412, 15.793815, 17.689293, 18.721842, 19.987497, 21.140305, 22.209911, 23.169708, 23.915192, 25.045013, 26.256166, 27.705455, 29.017633, 30.698458, 31.545766, 32.492335, 33.246658, 34.69706, 35.806991, 37.024639, 38.655498, 40.616972, 42.443232, 44.297168, 46.537356, 49.036915, 51.631131, 53.728178, 55.955084, 57.758661, 59.986667, 62.312017, 63.631033, 65.066002, 66.486956, 67.984812, 69.047471, 69.950745, 71.95753, 74.453613, 76.721656, 79.649536]},
			{name: 'CHL', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4.715253, 4.950051, 5.176287, 5.633821, 5.923644, 6.507485, 7.137821, 7.464924, 8.079388, 9.118255, 9.935642, 10.89018, 11.036394, 11.38657, 12.128477, 12.78489, 13.099296, 13.47021, 14.479792, 15.730871, 19.24277, 20.70666, 20.12493, 20.251849, 20.996558, 22.8387, 24.206231, 25.052715, 25.673302, 25.484431, 26.595222, 27.820418, 29.543752, 29.452318, 34.791845]},
			{name: 'EST', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11.935564, 12.959227, 14.548626, 15.895375, 17.485468, 19.240144, 21.285749, 24.303257, 25.33772, 27.160525, 29.42253, 30.552224, 32.258235, 33.899773, 35.483213, 34.947358, 37.325016, 39.285472, 42.887226, 44.820955, 47.530997]},
			{name: 'ISR', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12.950175, 13.988241, 14.615294, 15.019559, 16.023906, 16.790817, 17.919309, 18.899357, 19.390043, 21.158078, 22.41848, 22.798532, 23.184884, 23.357665, 23.6055, 24.270416, 24.959993, 25.953048, 26.291304, 28.498333, 29.406799, 29.851304, 28.6635, 30.782937, 29.973775, 30.922297, 32.11181, 31.63322, 31.694685, 33.009784, 34.868756, 36.017655, 38.729172, 38.742683, 39.851887, 41.81091, 43.034889, 44.562674, 45.444408, 49.571533]},
			{name: 'RUS', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7.377698, 7.351404, 7.701203, 7.611073, 7.556892, 8.324415, 8.941886, 9.484901, 10.859869, 11.802833, 13.441052, 16.654848, 18.101645, 21.814245, 21.737254, 22.750535, 23.243457, 24.543216, 26.470807, 26.502845, 24.649304, 24.764869, 26.602006, 29.836713, 31.260124, 32.996895]},
			{name: 'SVN', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16.734906, 18.210848, 19.935405, 20.760943, 21.747154, 22.888014, 24.194002, 25.110856, 26.239405, 28.013734, 30.24724, 32.776622, 34.443607, 35.738611, 33.994941, 35.213346, 37.694157, 38.723896, 40.039813, 40.625434, 40.981064, 44.124049, 47.0215, 49.442665, 50.750075, 52.474083]},
			{name: 'OECD', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 30.080441, 31.33887, 32.507247, 33.730158, 35.397912, 36.853556, 38.985458, 40.682123, 41.886238, 42.474264, 43.757707, 45.298908, 46.34892, 48.039411, 49.088254, 50.073085, 51.469067, 53.192056, 54.952018, 56.308417, 59.623163]},
			{name: 'G-7', data: [5.001016, 5.472063, 5.9865, 6.579591, 7.288573, 8.135761, 8.876961, 9.691674, 10.673555, 11.814038, 12.98551, 14.591142, 15.642158, 16.703682, 17.762191, 18.827175, 19.611537, 20.476721, 21.707607, 23.068229, 24.514323, 25.787012, 27.114708, 28.197056, 29.306351, 30.359915, 31.567773, 32.659972, 33.712841, 35.054992, 36.964243, 38.572914, 40.237237, 41.744858, 43.691203, 45.608782, 47.721189, 49.482759, 50.993935, 51.893973, 53.843128, 55.479302, 56.786513, 58.765181, 59.991843, 61.135153, 62.484954, 64.391424, 66.398701, 68.141622, 71.302402]},
			{name: 'LVA', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11.925029, 12.956947, 14.427906, 15.66353, 17.606306, 19.292779, 20.578772, 22.952038, 23.068373, 23.63417, 26.023631, 27.125682, 29.469149, 30.412282, 31.956261, 33.403752, 35.504648, 38.095471, 39.810554, 41.703144, 43.343956]},
			{name: 'LTU', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9.497874, 10.071106, 10.967948, 11.735635, 12.374586, 12.956361, 15.042672, 16.257493, 18.324081, 18.802036, 20.443534, 22.97994, 25.37692, 27.193688, 26.420363, 29.385897, 32.982878, 34.519964, 36.795667, 37.866495, 37.326012, 38.170883, 42.315913, 44.310461, 46.629424, 49.946765]},
			{name: 'EA19', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 29.407097, 30.238874, 31.291752, 32.240669, 33.055598, 34.729701, 36.245259, 37.827815, 38.593061, 39.898893, 41.167046, 43.952668, 45.794117, 47.447887, 48.020406, 49.700005, 51.798094, 53.204713, 55.704275, 56.908865, 58.088961, 60.851813, 63.207657, 64.831506, 66.159214, 69.362087]},
			{name: 'ZAF', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12.687529, 13.453195, 14.684353, 15.307799, 15.30068, 16.413174, 17.645074, 17.424225, 18.039088, 19.474964, 19.954873, 19.856106, 20.328636, 20.411342, 22.553861, 20.216513, 20.383943, 20.802767, 21.263078]},
			{name: 'CRI', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7.335577, 7.58495, 7.910507, 7.994267, 8.32869, 8.501464, 8.530385, 8.705486, 9.00522, 9.37038, 9.51627, 9.725899, 10.039392, 10.558932, 10.689886, 11.442443, 11.907717, 12.522459, 12.960705, 14.651473, 15.682317, 15.772756, 17.163658, 18.404754, 19.707747, 21.644402, 22.923311, 24.775804, 26.101272, 30.99807]},
			{name: 'EU27_2020', data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 28.544425, 29.752143, 30.357885, 31.268509, 32.413332, 34.115338, 35.70212, 37.317817, 38.345479, 39.739363, 41.135428, 42.747392, 44.429232, 45.452158, 44.832508, 46.850155, 48.295035, 49.208218, 50.241316, 50.938721, 52.3332, 52.962792, 54.598146, 55.744992, 57.271308, 58.528339]},
			{name: 'COL', data: [0, 0, 0, 0, 0, 1.852513, 1.988992, 2.112759, 2.396878, 2.67038, 2.982629, 3.215542, 3.410821, 3.618402, 3.8435, 3.996726, 4.180584, 4.321152, 4.528001, 4.671819, 6.311175, 6.293791, 6.636937, 6.728732, 6.94247, 7.143864, 7.348153, 7.570227, 7.711647, 7.527684, 7.407485, 7.599582, 7.554071, 7.709262, 8.376483, 8.791956, 9.640849, 10.315005, 10.527792, 10.331002, 10.499898, 11.087664, 11.279695, 11.882999, 12.327275, 12.190548, 12.970476, 13.555181, 14.991019, 15.971445, 20.454048]}
		];

		// This is a placeholder for a more complex function

		//    - needed for multiple datasets or server access
		return (OECD_GDP_hr);

	};

	function addCharts(chartTitle, seriesY, chartType, ncol){
		console.log("ncol: " + ncol)

		const seriesToPlot = [];
		console.log('addCharts', chartTitle.length);

		// clear existing charts generated previously
		$('#chartbox').empty();
		// remove the containers' class because this dictates in the CSS if it will be
		// 1,2,3 or 5 graphs per row. This will be re-assigned later on
		$('#chartbox').removeClass('container'+ncol.prev);


		// loop 44 times (according to length of titles array on line 11
		for (var i=0; i<chartTitle.length; i++){
			// append a new div to the chartbox 44 times: 1 for each
			// the class will change depending on the user selected number of columns
			// and this class will work with the CSS to present the user selected # of columns
			$('#chartbox').append("<div id='chart"+i+"' class='container"+ncol.current+"'></div>");
			// then append the chart title to the newly created div above
			$('#chart'+i).append(chartTitle[i]);

			// loop 44 times, once for each record in seriesY
			for (var n=0; n<seriesY.length; n++){
				// For each one, check to see if the seriesY name is the same as the current name in the outer loop
				if (seriesY[n].name === chartTitle[i]){

					// if its the same, push the record to the seriesToPlot array
					seriesToPlot.push(seriesY[n]);
					break;
				};
			};
		};
		console.log("the array");
		console.log(seriesToPlot[1])
		// add CSS class to chartbox to position the boxes
		$('#chartbox').addClass('container'+ncol.current);


		// loop 44 times
		for (var i=0; i<chartTitle.length; i++){
			// specify the div to render each chart to
			var renderto = '#chart'+i;

			// call the function to create the chart using the above render location, the title from the title array
			// and the series data from the data array
			makeChart('#chart'+i, chartTitle[i], seriesToPlot[i], chartType);
		};
	};

	function makeChart(renderto, chartTitle, seriesY, chartType){
		// add the chart type to the series (could be enhanced or changed to cover other chart types)
		seriesY.type = chartType;

		// the highcharts object
		$(renderto).highcharts({

			chart: {
				height: (9/16 * 100)+'%', // 16:9  aspect ratio, chart fills the box
				spacingRight: 30
			},

			legend: {
				enabled: false
			},

			title: {
				text: chartTitle
			},

			xAxis: {
				categories: [ '1970', '1971', '1972', '1973', '1974', '1975', '1976', '1977', '1978', '1979', '1980', '1981', '1982', '1983', '1984', '1985', '1986', '1987', '1988', '1989', '1990', '1991', '1992', '1993', '1994', '1995', '1996', '1997', '1998', '1999', '2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019', '2020' ],
				tickInterval: 2
			},
			yAxis: {
				min: 0,
				max: 80,
				tickInterval: 10 // need to specify this to override default intervals
			},
			plotOptions: {
				series: {
					lineWidth: 2
				}
			},
			series: [seriesY]
		});
	};


	function makeMenu(chartTitle, seriesName, chartType){

		// clear the menu of existing content
		$('#menubox').empty();

		//add the select button
		$('#menubox').append('<button id="menuListSelect">Display Changes</button>')

		// allows the style of chart to be selected by the user
		$('#menubox').append('<p class="menuboxpara">Chart Type</p> ');
		$('#menubox').append('<select name="cChoice" id="chartChoice"  ></select><br>');
		$('#chartChoice').append('<option value="line">line</option>');
		$('#chartChoice').append('<option value="column">column</option>');
		$('#chartChoice').append('<option value="area">area</option>');

		// add a listener to get the new values when the chart type is changed
		$('#chartChoice').on( 'change', function() {
			chartType = $('#chartChoice option:selected').val();
		});

		// Number of Columns
		$('#menubox').append('<p class="menuboxpara"># of columns</p>');
		$('#menubox').append('<select name="colChoice" id="colChoice"  ></select><br>');
		$('#colChoice').append('<option value="1">1</option>');
		$('#colChoice').append('<option value="2">2</option>');
		// Mark this one as default selected
		$('#colChoice').append('<option value="3" selected="selected">3</option>');
		$('#colChoice').append('<option value="5">5</option>');

		// add a listener to get the new values when the chart type is changed
		$('#colChoice').on( 'change', function() {
			// Changes ncol.prev to the current ncol on change
			ncol.prev = ncol.current;
			// Change ncol.current to the new selected column value
			ncol.current = $('#colChoice option:selected').val();
			console.log("previous num of cols" + ncol.prev)
			console.log("current num of cols: " + ncol.current);
		});

		console.log('makeMenu', chartTitle, seriesName, seriesY); // check we've got the inputs we expect
		// add explanatory text

		$('#menubox').append('<p class="menuboxpara">Select the charts to display</p>');

		$('#menuListSelect').on('click', function() {
			chartTitle = [];
			$('input:checkbox[name=ys]:checked').each(function(){
				if ($(this).val() === 'All'){
					console.log('makeMenu ys values', seriesName, $(this).val());
					for (i=0; i<seriesY.length; i++){
						chartTitle.push(seriesY[i].name);
					};
				} else {
					console.log("here")
					chartTitle.push(seriesY[$(this).val()].name);
					console.log('country list', seriesName, $(this).val(), seriesY[$(this).val()].name);
				};
			});
			console.log ('makeMenu end', chartType, ncol);

			addCharts(chartTitle, seriesY, chartType, ncol);
		});

		//
		$('#menubox').append('<ul id="menuList"></ul>');
		$('#menuList').append('<li><input type="checkbox" class="menuItem" name="ys" value="All" checked>All</li>');

		// For each country in the dataset, create a list element and a checkbox
		for (let i = 0; i < seriesY.length; i++){
			$('#menuList').append('<li><input type="checkbox" class="menuItem" name="ys" value="'+i+'"> '+ seriesY[i].name +' </li>');

		}




		return;

	};
});